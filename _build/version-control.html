<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Yu-Sheng Zhao" />
  <meta name="author" content="Yi-Dai Zhang" />
  <meta name="author" content="Jin-Guo Liu" />
  <title>Code MUST be Maintained: Version Control - Scientific Computing for Physicist</title>
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/style.css"/>
    <script src="/mousetrap.min.js"></script>
    <style>
  @font-face {
    font-family: JuliaMono-Regular;
    src: url("/JuliaMono-Regular.woff2");
  }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <link rel="stylesheet" href="/github.min.css">
<script src="/highlight.min.js"></script>
<script src="/julia.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre').forEach((el) => {
        if (!el.classList.contains('output')) {
            hljs.highlightElement(el);
        }
    });
});
</script>
 
</head>
<body>
<script>
function click_next() {
  var next = document.getElementById('nav-next');
  next.firstElementChild.nextElementSibling.click();
}
function click_prev() {
  var prev = document.getElementById('nav-prev');
  prev.firstElementChild.click();
}
Mousetrap.bind('right', click_next);
Mousetrap.bind('h', click_prev);
Mousetrap.bind('left', click_prev);
Mousetrap.bind('l', click_next);
</script>

<div class="books-container">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="/">Scientific Computing for Physicist</a>
</div><br />
<span class="books-subtitle">
with Julia programming language
</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="/open-source-dev-toolchains.html"><b>1</b> Becoming an Open-Source De..</a></li>
<li><a class="menu-level-2" href="/get-a-terminal.html"><b>1.1</b> Get a Terminal!</a></li>
<li><a class="menu-level-2" href="/version-control.html"><b>1.2</b> Code MUST be Maintained:..</a></li>
<li><a class="menu-level-2" href="/ci-cd.html"><b>1.3</b> Code MUST be Tested!</a></li>
<li><a class="menu-level-2" href="/learn-to-collaborate.html"><b>1.4</b> Learn to Collaborate</a></li>
<li><a class="menu-level-2" href="/share-your-code.html"><b>1.5</b> Share Your Code</a></li>
<li><a class="menu-level-1" href="/julia.html"><b>2</b> Julia</a></li>
<li><a class="menu-level-2" href="/setup.html"><b>2.1</b> Setup Julia</a></li>
<li><a class="menu-level-2" href="/an-introduction-to-the-julia-programming-language.html"><b>2.2</b> An Introduction to the J..</a></li>
<li><a class="menu-level-1" href="/appendix.html"><b></b> Appendix</a></li>
<li><a class="menu-level-1" href="/references.html"><b>3</b> References</a></li>
</div>
</aside>

<div class="books-content">
<h2 data-number="1.2" id="sec:version-control"><span class="header-section-number">1.2</span> Code MUST be Maintained: Version Control</h2>
<p>Maintaining a software project is not easy. You may encounter the following problems:</p>
<ul>
<li>New code breaks an existing feature</li>
<li>Conflicts between two changes</li>
<li>No working code!</li>
<li>Bug fixes at a wrong version</li>
<li>Code lost</li>
</ul>
<p>A crucial part of maintaining an open-source software is <strong>version-control</strong>. In the following, we will introduce the best tool for doing version-control: <strong>Git</strong>.</p>
<h3 data-number="1.2.1" id="what-is-a-repo"><span class="header-section-number">1.2.1</span> What is a repo?</h3>
<p>A repository, also known as a repo, is basically a directory where your project lives and git keeps track of your file’s history.</p>
<ul>
<li>You start with a working directory, then use <code>git init</code> to make it a git repository.</li>
<li>You can use <code>git add</code> to add files to the staging area, and use <code>git commit</code> to commit the changes to the repository.</li>
<li>You can use <code>git checkout</code> to switch between commits.</li>
<li>You can use <code>git diff</code> to see the changes between commits.</li>
<li>You can use <code>git reset</code> to reset the current HEAD to the specified state.</li>
<li>You can use <code>git status</code> to see the status of the working directory, staging area, and repository.</li>
<li>You can use <code>git log</code> to see the history of commits.</li>
</ul>
<h3 data-number="1.2.2" id="working-with-remote-repositories"><span class="header-section-number">1.2.2</span> Working with remote repositories</h3>
<p>Now that you have configuration all setup, we will get you familiarized with a few concepts. In Git terminology, <strong>Remote</strong> refers to a repository that is located on a server or another computer, rather than the user’s local machine. It’s a version of the repository that is used by teams to collaborate on a project. Remote repositories can be accessed and manipulated through Git commands, allowing users to push changes or fetch changes made by others. Remote repositories can be hosted on Git hosting services like GitHub, GitLab, or Bitbucket, or set up on a personal server. Multiple users can access and modify the same remote repository, making it easy for teams to work on a project together.</p>
<ul>
<li>You can use <code>git remote add &lt;remote-name&gt; &lt;url&gt;</code> to add a remote repository.</li>
<li>You can use <code>git push &lt;remote-name&gt; &lt;branch&gt;</code> to push commits to a remote repository.</li>
<li>You can use <code>git pull &lt;remote-name&gt; &lt;branch&gt;</code> to fetch from and integrate with another repo or a local branch.</li>
</ul>
<h3 data-number="1.2.3" id="developing-a-feature-safely"><span class="header-section-number">1.2.3</span> Developing a feature safely</h3>
<p>A branch in Git is a lightweight pointer to a specific commit. It allows developers to work on new features or make changes to the codebase without affecting the main codebase. Branches are created and can be switched between easily, and changes made in one branch do not affect other branches.</p>
<p>To create a new branch in Git, you can use the command <code>git branch &lt;branch_name&gt;</code>. This creates a new branch but does not switch to it, so you will be working in the same branch until you use the command <code>git checkout &lt;branch_name&gt;</code> to switch to the new branch. Alternatively, you can use the command <code>git checkout -b &lt;branch_name&gt;</code> to create and switch to the new branch at the same time.</p>
<p>To end a branch, you can use the command <code>git branch -d &lt;branch_name&gt;</code>. This deletes the specified branch, but only if it has been fully merged into the main branch. If you want to delete a branch whether it has been fully merged or not, you can use the command <code>git branch -D &lt;branch_name&gt;</code>. It’s important to note that once a branch has been deleted, you cannot restore its commit history.</p>
<h3 data-number="1.2.4" id="example-workflow"><span class="header-section-number">1.2.4</span> Example Workflow</h3>
<p>Here are two example workflows managing your project with git.</p>
<p>Example 1: develop a new feature <img src="./assets/images/newfeature.png" /> <!-- ```mermaid --> <!-- graph LR; --> <!-- A[main] --- MID[ ]; --> <!-- MID ---|always usable| MID2[ ]; --> <!-- MID2 -\->B[main*]; --> <!-- MID -\->|checkout| D[feature]; --> <!-- D -\->|update & commit| D2[feature*]; --> <!-- D2 -\->|merge| MID2; --> <!-- style MID height:0px, width:0px; --> <!-- style MID2 height:0px, width:0px; --> <!-- ``` --></p>
<p>Example 2: develop two features <img src="./assets/images/twofeatures.png" /> <!-- ```mermaid --> <!-- graph LR; --> <!-- A[main] --- MID0[ ]; --> <!-- MID0 --- MID1[ ]; --> <!-- MID1 --- MID2[ ]; --> <!-- MID2 --- MID3[ ]; --> <!-- MID3 --- END[main*]; --> <!-- MID0 -\->|checkout| C[feature1]; --> <!-- MID1 -\->|checkout| D[feature2]; --> <!-- C --\->|merge| MID2 --> <!-- D -.->|merge?| MID3 --> <!-- style MID0 height:0px, width:0px; --> <!-- style MID1 height:0px, width:0px; --> <!-- style MID2 height:0px, width:0px; --> <!-- style MID3 height:0px, width:0px; --> <!-- ``` --></p>
<h3 data-number="1.2.5" id="cheatsheet-and-resources-for-git-and-github"><span class="header-section-number">1.2.5</span> Cheatsheet and Resources for Git and Github</h3>
<p>It is not possible to cover all of the feature of git. We will list a few useful commands and resources for git learning.</p>
<pre><code># global config
git config  # Get and set repository or global options

# initialize a repo
git init    # Create an empty Git repo or reinitialize an existing one
git clone   # Clone repository into new directory

# info
git status  # Show the working tree status
git log     # Show commit logs
git diff    # Show changes between commits, commit and working tree, etc

# work on a branch
git add     # Add file contents to the index
git rm      # Remove files from the working tree and from the index
git commit  # Record changes to the repository
git reset   # Reset current HEAD to the specified state

# branch manipulation
git checkout # Switch branches or restore working tree files
git branch  # List, create, or delete branches
git merge   # Join two or more development histories together

# remote synchronization
git remote  # Manage set of tracked repositories
git pull  # Fetch from and integrate with another repo or a local branch
git fetch   # Download objects and refs from another repository
git push    # Update remote refs along with associated objects</code></pre>
<p>A more detailed introduction could be found in this <a href="https://missing.csail.mit.edu/2020/version-control/">lecture</a>.</p>
<h3 data-number="1.2.6" id="resources"><span class="header-section-number">1.2.6</span> Resources</h3>
<ul>
<li><a href="https://www.learnshell.org/">Learn Bash Shell</a></li>
<li><a href="https://learngitbranching.js.org/">Learn Git</a></li>
<li><a href="https://githubtraining.github.io/training-manual/book.pdf">Github Manual</a></li>
<li><a href="https://docs.github.com/en/get-started/quickstart/create-a-repo">How to create a new github repo</a></li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">How to create a pull request</a></li>
<li><a href="https://www.markdowntutorial.com/">Markdown Tutorial</a></li>
<li>MIT online course <a href="https://missing.csail.mit.edu/2020/">missing semester</a>.</li>
<li><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git with Game</a></li>
<li><a href="https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1">Command Visualization</a></li>
<li><a href="https://ohshitgit.com/">Git Panic</a></li>
</ul>


<div class="bottom-nav">
    <p id="nav-prev" style="text-align: left;">
        <a class="menu-level-2" href="/get-a-terminal.html"><b>1.1</b> Get a Terminal!</a> <kbd>←</kbd>
        <span id="nav-next" style="float: right;">
            <kbd>→</kbd> <a class="menu-level-2" href="/ci-cd.html"><b>1.3</b> Code MUST be Tested!</a>
        </span>
    </p>
</div>


<div class="license">
    <br/>
  <br/>
  <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
    Yu-Sheng Zhao, Yi-Dai Zhang, Jin-Guo Liu
</div>
</div>
</div>
</body>
</html>